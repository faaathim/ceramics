{% load static %}
<style>
  /* Navbar Styles */
  .main-navbar {
    position: sticky;
    top: 0;
    left: 0;
    width: 100%;
    background: #000000;
    backdrop-filter: blur(10px);
    z-index: 1000;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    transition: all 0.3s ease;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  }

  .main-navbar.scrolled {
    background: #000000;
    box-shadow: 0 4px 30px rgba(0, 0, 0, 0.8);
  }

  .nav-wrapper {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0;
    max-width: 100%;
    margin: 0 auto;
    min-height: 100px;
  }

  /* Logo Section */
  .nav-logo {
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: transform 0.3s ease;
    padding: 0 3rem;
  }

  .nav-logo img {
    width: 60px;
    height: 60px;
    object-fit: contain;
    filter: brightness(0) invert(1);
    transition: all 0.3s ease;
  }

  .nav-logo:hover {
    transform: scale(1.1);
  }

  .nav-logo:hover img {
    opacity: 1;
  }

  /* Navigation Links */
  .nav-links {
    list-style: none;
    display: flex;
    gap: 0;
    margin: 0;
    padding: 0;
    flex: 1;
    justify-content: center;
  }

  .nav-links li {
    position: relative;
  }

  .nav-links a {
    color: rgba(255, 255, 255, 0.7);
    text-decoration: none;
    font-size: 0.8rem;
    font-weight: 500;
    letter-spacing: 1px;
    padding: 2.5rem 1.8rem;
    display: block;
    text-transform: uppercase;
    transition: all 0.3s ease;
    position: relative;
  }

  /* Cleaner underline effect */
  .nav-links a::after {
    content: '';
    position: absolute;
    bottom: 2rem;
    left: 50%;
    width: 0;
    height: 2px;
    background: #ffffff;
    transform: translateX(-50%);
    transition: width 0.3s ease;
  }

  .nav-links a:hover {
    color: #ffffff;
    transform: scale(1.05);
  }

  .nav-links a:hover::after {
    width: 60%;
  }

  /* Active/Current page styling */
  .nav-links a.active {
    color: #ffffff;
  }

  .nav-links a.active::after {
    width: 60%;
    background: #ffffff;
  }

  /* Icons Section */
  .nav-icons {
    display: flex;
    gap: 2rem;
    align-items: center;
    padding: 0 3rem;
  }

  .nav-icon-link {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    text-decoration: none;
    transition: transform 0.3s ease;
  }

  .nav-icon {
    width: 22px;
    height: 22px;
    fill: rgba(255, 255, 255, 0.7);
    transition: all 0.3s ease;
    cursor: pointer;
  }

  .nav-icon-link:hover {
    transform: scale(1.15);
  }

  .nav-icon-link:hover .nav-icon {
    fill: #ffffff;
  }

  /* Cart Badge */
  .cart-badge {
    position: absolute;
    top: -8px;
    right: -8px;
    background: #ffffff;
    color: #000000;
    font-size: 0.65rem;
    font-weight: 700;
    width: 18px;
    height: 18px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    border: 2px solid #000000;
    transition: all 0.3s ease;
  }

  .nav-icon-link:hover .cart-badge {
    transform: scale(1.1);
  }

  /* Responsive */
  @media (max-width: 992px) {
    .nav-wrapper {
      padding: 0;
      min-height: 80px;
    }

    .nav-logo {
      padding: 0 2rem;
    }

    .nav-logo img {
      width: 55px;
      height: 55px;
    }

    .nav-links a {
      padding: 2rem 1.5rem;
      font-size: 0.75rem;
    }

    .nav-links a::after {
      bottom: 1.5rem;
    }

    .nav-links a:hover::after {
      width: 60%;
    }

    .nav-links a.active::after {
      width: 60%;
    }

    .nav-icon {
      width: 20px;
      height: 20px;
    }

    .nav-icons {
      padding: 0 2rem;
      gap: 1.8rem;
    }
  }

  @media (max-width: 768px) {
    .nav-wrapper {
      flex-wrap: wrap;
      gap: 1rem;
      min-height: auto;
      padding: 0;
    }

    /* Logo Section */
  .nav-logo {
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: transform 0.3s ease;
    padding: 0 3rem 0 5rem;
  }

    .nav-logo img {
      width: 50px;
      height: 50px;
    }

    .nav-links {
      order: 3;
      width: 100%;
      justify-content: center;
      flex-wrap: wrap;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
    }

    .nav-links a {
      padding: 1rem 1.2rem;
      font-size: 0.75rem;
    }

    .nav-links a::after {
      left: 50%;
      width: 0;
      bottom: 0.5rem;
    }

    .nav-links a:hover::after {
      width: 50%;
    }

    .nav-links a.active::after {
      width: 50%;
    }

    .nav-icon {
      width: 20px;
      height: 20px;
    }

    .nav-icons {
      padding: 0 1.5rem;
      gap: 1.5rem;
    }
  }
</style>

<nav class="main-navbar">
  <div class="nav-wrapper">
    <!-- Logo -->
    <div class="nav-logo">
      <img src="{% static 'user_authentication/images/LOGO.png' %}" alt="Ceramic Logo">
    </div>
    
    <!-- Navigation Links -->
    <ul class="nav-links">
      <li><a href="{% url 'user_side:home' %}" class="nav-link" data-page="home">Home</a></li>
      <li><a href="#about" class="nav-link" data-page="about">About</a></li>
      <li><a href="#blog" class="nav-link" data-page="blog">Blog</a></li>
      <li><a href="{% url 'user_side:shop' %}" class="nav-link" data-page="shop">Shop</a></li>
      <li><a href="#workshop" class="nav-link" data-page="workshop">Workshop</a></li>
      {% if user.is_authenticated %}
        <li><a href="{% url 'user_authentication:logout' %}" class="nav-link">Logout</a></li>
      {% else %}
        <li><a href="{% url 'user_authentication:login' %}" class="nav-link">Login</a></li>
      {% endif %}
    </ul>
    
    <!-- Icons (only for authenticated users) -->
    {% if user.is_authenticated %}
    <div class="nav-icons">
      <a href="#" class="nav-icon-link" title="Search">
        <svg class="nav-icon" viewBox="0 0 24 24">
          <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zM9.5 14C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
        </svg>
      </a>
      <a href="{% url 'user_profile:profile_view' %}" class="nav-icon-link" title="Profileee">
        <svg class="nav-icon" viewBox="0 0 24 24">
          <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
        </svg>
      </a>
      <a href="#" class="nav-icon-link" title="Wishlist">
        <svg class="nav-icon" viewBox="0 0 24 24">
          <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
        </svg>
      </a>
      <a href="#" class="nav-icon-link" title="Cart">
        <svg class="nav-icon" viewBox="0 0 24 24">
          <circle cx="9" cy="21" r="1"/>
          <circle cx="20" cy="21" r="1"/>
          <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"/>
        </svg>
        <span class="cart-badge">0</span>
      </a>
    </div>
    {% endif %}
  </div>
</nav>

<script>
  // Navbar scroll effect
  window.addEventListener('scroll', function() {
    const navbar = document.querySelector('.main-navbar');
    if (window.scrollY > 50) {
      navbar.classList.add('scrolled');
    } else {
      navbar.classList.remove('scrolled');
    }
  });

 // Highlight current page
function setActivePage() {
  const currentPath = window.location.pathname;
  const currentHash = window.location.hash;
  const navLinks = document.querySelectorAll('.nav-link');
  
  let matchFound = false;
  
  navLinks.forEach(link => {
    link.classList.remove('active');
    
    const href = link.getAttribute('href');
    
    // Check for exact path match
    if (href === currentPath) {
      link.classList.add('active');
      matchFound = true;
    }
    // Check for hash match
    else if (href.startsWith('#') && href === currentHash) {
      link.classList.add('active');
      matchFound = true;
    }
  });
  
  // Only highlight home if we're actually on home page AND no other match was found
  if (!matchFound && currentPath === '/') {
    navLinks.forEach(link => {
      if (link.dataset.page === 'home') {
        link.classList.add('active');
      }
    });
  }
}

  // Set active page on load
  setActivePage();

  // Update active page on hash change
  window.addEventListener('hashchange', setActivePage);

  // Smooth scroll for anchor links
  document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
      e.preventDefault();
      const target = document.querySelector(this.getAttribute('href'));
      if (target) {
        target.scrollIntoView({ behavior: 'smooth', block: 'start' });
        // Update active state after smooth scroll
        setTimeout(setActivePage, 100);
      }
    });
  });

  // Logo click - go to home
  const logo = document.querySelector('.nav-logo');
  if (logo) {
    logo.addEventListener('click', function() {
      window.location.href = "{% url 'user_side:home' %}";
    });
  }
</script>